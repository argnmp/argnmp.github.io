<!DOCTYPE html>
<html lang="en">
    <head>
        <title>blog.argnmp</title>
        
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" href="data:,">
        <link href="/static/main.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
        <script src="/static/entry_bundle.js"></script>
        <script src="/static/module_bundle.js" type="module"></script>
    </head>
    <body class="dark:bg-gray-800">
        <div class="p-5 sm:px-10 md:px-16 lg:container mx-auto lg:px-20 py-5 xl:px-48 box-border h-screen w-screen">
            <div class="flex text-customlight-700 dark:text-customdark-400 pb-2 mb-4 border-b-4 border-customlight-700 dark:border-customdark-400">
                <div class="grow">
                    <a class="inline-block" href="/">
                        <p
                            class="text-3xl font-bold hover:bg-customlight-700 hover:text-white dark:hover:bg-customdark-400 dark:hover:text-gray-800">
                        blog.argnmp</p>
                    </a>
                </div>
                <button id="searchToggle" class="cursor-pointer justify-center items-center p-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 stroke-gray-600 dark:stroke-gray-400"
                        viewBox="0 0 24 24" stroke-width="1.5" fill="none" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" />
                        <path d="M21 21l-6 -6" />
                    </svg>
                </button>
                <button id="toggle" class="cursor-pointer justify-center items-center p-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="dark:hidden w-4 h-4" viewBox="0 0 16 16">
                        <path class="fill-gray-600" d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" class="hidden dark:block w-4 h-4" viewBox="0 0 16 16">
                        <path class="fill-gray-400" d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
                        <path class="fill-gray-400" d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/>
                    </svg>
                </button>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-12 gap-2">
                <div class="md:col-span-3">
                    <div class="flex md:flex-col text-gray-900 dark:text-gray-200">
                        <div class="w-full md:object-center basis-1/4">
                          <img class="w-full max-w-sm mx-auto rounded-md ring-customlight-600 dark:ring-customdark-500" src="/static/profile image.png" />
                        </div>
                        <div class="grow pl-4 md:p-0 md:text-left my-auto">
                          <p class="text-2xl md:mt-3 mb-2 font-bold">argnmp</p>
                          
                          <p class="text-xs">컴퓨터공학 관련 주제를 주로 다룹니다.</p>
                          
                          <p class="text-xs">argnmp@gmail.com</p>
                          
                          
                          
                          <p class="text-xs"><a class="text-xs" href="https://github.com/argnmp">github</a></p>
                          
                        </div>
                    </div>
                    <div id="toc" class="sticky top-5 mt-5 border-l-2">
                        <p class="pl-4 pb-1 text-sm text-gray-900 dark:text-gray-200 cursor-pointer hover:text-custom-light-700 dark:hover:text-custom-light-400 hover:font-bold hover:underline" hidden>to load styles for dynamically created elements</ul>
                    </div>
                </div>
                <div id="main" class="grid-flow-row md:col-span-9 rounded-lg">
                    <div id="searchModule" class="md:pl-3" hidden>
                        <div class="pb-2">
                            <form class="flex">
                                <input type="text" name="search" id="search_input" class="inline w-full rounded-md border-0 py-1 px-2 mr-2 text-gray-900 ring-1 ring-inset ring-gray-300 dark:ring-gray-700 placeholder:text-gray-400 focus:ring-1 focus:ring-inset focus:ring-customlight-600 dark:focus:ring-customdark-300 text-sm sm:leading-6 dark:bg-gray-800 dark:text-gray-200" placeholder="search for child nodes..." onkeyup="window.search()">
                                <input type="submit" name="submit" id="submit" class="inline bg-customlight-700 hover:bg-white hover:text-customlight-700 border border-customlight-700 dark:border-customdark-400 text-gray-200 dark:bg-customdark-400 dark:text-gray-900 hover:dark:bg-gray-800 hover:dark:text-gray-200 rounded-md px-2 text-sm cursor-pointer" onclick="window.search()" value="search">
                            </form>
                        </div>
                        <div class="" id="search_result">
                            <a class="" href="">
                                <div class="mb-1 px-2 py-1 border border-gray-200 dark:border-gray-600 dark:text-gray-200 hidden">
                                </div> 
                            </a>
                        </div> 
                    </div>
                    
                    
                    <article>
                        <section class="w-full mb-12">
                            <div class="mb-2 md:pl-5">
                                <p class="text-4xl md:text-4xl break-keep font-semibold text-gray-700 dark:text-gray-200 py-1">boj 2482 색상환</p>
                                
                            </div>
                            <div class="flex flex-row mb-4 md:pl-5 text-gray-500 dark:text-gray-400">
                                <div class="mr-2"><p class="text-xs italic">Taehyeon Kim</p></div>
                                <div class="mr-2"><p class="text-xs italic">2023-12-02</p></div>
                                <div class="bg-customlight-100 bg-customlight-200 bg-customlight-300 bg-customlight-400 bg-customlight-500 bg-customlight-600 bg-customlight-700 bg-customlight-800 bg-customlight-900 dark:bg-customdark-100 dark:bg-customdark-200 dark:bg-customdark-300 dark:bg-customdark-400 dark:bg-customdark-500 dark:bg-customdark-600 dark:bg-customdark-700 dark:bg-customdark-800 dark:bg-customdark-900" hidden></div>
                                <div class="mr-2 flex flex-row">
                                    
                                    
                                    
                                    
                                    

                                    <div class="px-1 mr-1 bg-customlight-500 dark:bg-customdark-500 align-middle text-xs text-white rounded-md">
                                        boj
                                    </div>
                                    
                                    
                                    
                                    

                                    <div class="px-1 mr-1 bg-customlight-600 dark:bg-customdark-600 align-middle text-xs text-white rounded-md">
                                        ps
                                    </div>
                                    
                                    
                                </div>
                            </div>
                        </section>
                        <div class="clear-none markdown-body mb-10 md:pl-5 leading-6 font-post">
                            <h3 id="문제">문제</h3>
<p><a href="https://www.acmicpc.net/problem/2482">https://www.acmicpc.net/problem/2482</a></p>
<h3 id="코드">코드</h3>
<pre><code class="language-c++">#include &lt;iostream&gt;
#include &lt;algorithm&gt;
#include &lt;climits&gt;
#include &lt;vector&gt;
#include &lt;queue&gt;
#include &lt;map&gt;
#include &lt;unordered_map&gt;
#include &lt;set&gt;
#include &lt;unordered_set&gt;
#include &lt;bitset&gt;
#include &lt;cstring&gt;
using namespace std;
using ll = long long;
int MOD = 1000000003;
int n, k;
int dp[1001][1001] = {0,}; // n, k
void solve(){
    cin &gt;&gt; n &gt;&gt; k; 
    for(int i = 1; i&lt;1001; i++){
        dp[i][0] = 1;
        dp[i][1] = i;
    } 
    // dp(n, k) = dp(n-2, k-1) + dp(n-1, k)
    for(int i = 2; i&lt;1001; i++){
        for(int j = 2; j&lt;=i; j++){
            dp[i][j] = (dp[i-2][j-1] + dp[i-1][j]) % MOD;
        }
    }
    cout &lt;&lt; (dp[n-1][k] + dp[n-3][k-1]) % MOD;
}
int main(){
    ios::sync_with_stdio(0);
    cin.tie(0);
    solve(); 
    return 0;
}

</code></pre>
<h3 id="풀이">풀이</h3>
<p>dp를 통해 풀어야 하는 문제이다. 원을 그리고 있기 때문에 처음 색상과 마지막 색상을 동시에 고를 수 없다는 조건이 존재한다. 이 조건 때문에 복잡해 보일 수 있으나, 이것은 처음엔 고려하지 않는다.</p>
<p>색상이 원을 그리고 있지 않고 아래와 같이 일렬로 다섯개의 색상이 있다고 해보자.</p>
<pre><code class="language-shell">a b c d e
</code></pre>
<p>n은 색상의 전체 개수이고, k는 골라야 하는 색상의 개수라고 한다. 그리고 <code>dp[n][k]</code> 를 n개의 색상 중 k개를 고르는 경우의 수라고 한다.</p>
<p>앞에서 부터 고른다고 할때, a 색상을 고르거나 고르지 않거나 두가지 경우의 수가 존재한다.</p>
<ol>
<li>a를 고르는 경우, b를 고를 수 없다. 따라서 하위 경우의 수는 <code>dp[n-2][k-1]</code> 이다.</li>
<li>a를 고르지 않는 경우, b를 고를 수 있다. 따라서 하위 경우의 수는 <code>dp[n-1][k]</code> 이다.</li>
</ol>
<p>따라서 다음과 같은 점화식을 완성할 수 있다.
<code>dp[n][k] = dp[n-2][k-1] + dp[n-1][k]</code>
이 점화식을 사용해서 dp 배열의 값들을 모두 계산해준다. 하지만 아직 <code>dp[n][k]</code>는 답이 될 수 없다. 왜냐하면 원이 아닌, 일렬로 있다고 가정하고 계산했기 때문이다.</p>
<p>마지막으로 원을 그리고 있을 때의 값을 계산해주면 된다.</p>
<pre><code class="language-shell">a b ...... z -&gt; n개의 색상

</code></pre>
<p>마찬가지로 두가지 경우의 수를 계산해주면 된다.</p>
<ol>
<li>a를 고르는 경우, b와 z를 고를 수 없다. 따라서 하위 경우의 수는 <code>dp[n-3][k-1]</code> 이다.</li>
<li>a를 고르지 않는 경우, b와 z를 모두 골라도 된다. 따라서 하위 경우의 수는 <code>dp[n-1][k]</code> 이다.
따라서 <code>dp[n-3][k-1] + dp[n-1][k]</code> 가 답이 된다.
위의 모든 연산을 하는 과정에서 문제에서 주어진 나머지 연산을 해주어야 한다.</li>
</ol>
<h3 id="느낀점">느낀점</h3>
<p>예전에 접했었던 문제이고 정답을 맞추지 못했다.
처음에 점화식을 세운다는 생각을 하지 않고, 재귀를 통해 경우의 수를 나누어서 문제를 풀려고 했었다. 시작과 끝의 색상을 선택하는 경우의 수 4가지를 가지고 조건문을 작성했는데, 이 과정에서 1개만 고르고 싶은 경우가 있는 경우 등 여러 경우의 수를 표현하는 조건식이 부정확하여 정답을 맞추지 못했다. 위의 풀이 처럼 한 개의 색상을 대상으로 고르거나 고르지 않거나 둘 중 하나만 할 수 있도록, 경우의 수를 최대한 줄이는 것이 좋을 듯 하다.
또한 재귀 보다는 점화식을 세울 수 있도록 노력해야겠다.</p>
<p>dp 배열을 구한 뒤 마지막 경우의 수를 구하는 부분에서 <code>dp[n-2][k] + dp[n-3][k-1]*2</code> 이렇게 작성을 했었는데, 틀렸다는 결과가 나왔다. 계속 고민을 했지만 이유를 알 수 없었고, 알고리즘을 잘하는 지인에게 질문하고나서야 문제를 찾았다. (정말 감사합니다.) overflow 였다. dp 배열이 int 형으로 되어 있어서 마지막 식을 계산하는 부분에서 int 형으로 자동으로 계산이 되어서 overflow가 발생했던 것이다. 그래서 위의 코드의 dp 배열을 long long으로 바꾸고 나서야 정답이 되었다.</p>

                        </div>
                    </article>

                </div>
            </div> 
            <footer class="py-4 text-sm text-gray-700 dark:text-gray-200 text-center">
                © 2023. Taehyeon Kim All rights reserved. 
            </footer>
        </div>
    </body>
</html>
