<!DOCTYPE html>
<html lang="en">
    <head>
        <title>blog.argnmp</title>
        
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" href="data:,">
        <link href="/static/main.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
        <script src="/static/entry_bundle.js"></script>
        <script src="/static/module_bundle.js" type="module"></script>
    </head>
    <body class="dark:bg-gray-800">
        <div class="p-5 sm:px-10 md:px-16 lg:container mx-auto lg:px-20 py-5 xl:px-48 box-border h-screen w-screen">
            <div class="flex text-customlight-700 dark:text-customdark-400 pb-2 mb-4 border-b-4 border-customlight-700 dark:border-customdark-400">
                <div class="grow">
                    <a class="inline-block" href="/">
                        <p
                            class="text-3xl font-bold hover:bg-customlight-700 hover:text-white dark:hover:bg-customdark-400 dark:hover:text-gray-800">
                        blog.argnmp</p>
                    </a>
                </div>
                <button id="searchToggle" class="cursor-pointer justify-center items-center p-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 stroke-gray-600 dark:stroke-gray-400"
                        viewBox="0 0 24 24" stroke-width="1.5" fill="none" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" />
                        <path d="M21 21l-6 -6" />
                    </svg>
                </button>
                <button id="toggle" class="cursor-pointer justify-center items-center p-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="dark:hidden w-4 h-4" viewBox="0 0 16 16">
                        <path class="fill-gray-600" d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" class="hidden dark:block w-4 h-4" viewBox="0 0 16 16">
                        <path class="fill-gray-400" d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
                        <path class="fill-gray-400" d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/>
                    </svg>
                </button>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-12 gap-2">
                <div class="md:col-span-3">
                    <div class="flex md:flex-col text-gray-900 dark:text-gray-200">
                        <div class="w-full md:object-center basis-1/4">
                          <img class="w-full max-w-sm mx-auto rounded-md ring-customlight-600 dark:ring-customdark-500" src="/static/profile image.png" />
                        </div>
                        <div class="grow pl-4 md:p-0 md:text-left my-auto">
                          <p class="text-2xl md:mt-3 mb-2 font-bold">argnmp</p>
                          
                          <p class="text-xs">컴퓨터공학 관련 주제를 주로 다룹니다.</p>
                          
                          <p class="text-xs">argnmp@gmail.com</p>
                          
                          
                          
                          <p class="text-xs"><a class="text-xs" href="https://github.com/argnmp">github</a></p>
                          
                        </div>
                    </div>
                    <div id="toc" class="sticky top-5 mt-5 border-l-2">
                        <p class="pl-4 pb-1 text-sm text-gray-900 dark:text-gray-200 cursor-pointer hover:text-custom-light-700 dark:hover:text-custom-light-400 hover:font-bold hover:underline" hidden>to load styles for dynamically created elements</ul>
                    </div>
                </div>
                <div id="main" class="grid-flow-row md:col-span-9 rounded-lg">
                    <div id="searchModule" class="md:pl-3" hidden>
                        <div class="pb-2">
                            <form class="flex">
                                <input type="text" name="search" id="search_input" class="inline w-full rounded-md border-0 py-1 px-2 mr-2 text-gray-900 ring-1 ring-inset ring-gray-300 dark:ring-gray-700 placeholder:text-gray-400 focus:ring-1 focus:ring-inset focus:ring-customlight-600 dark:focus:ring-customdark-300 text-sm sm:leading-6 dark:bg-gray-800 dark:text-gray-200" placeholder="search for child nodes..." onkeyup="window.search()">
                                <input type="submit" name="submit" id="submit" class="inline bg-customlight-700 hover:bg-white hover:text-customlight-700 border border-customlight-700 dark:border-customdark-400 text-gray-200 dark:bg-customdark-400 dark:text-gray-900 hover:dark:bg-gray-800 hover:dark:text-gray-200 rounded-md px-2 text-sm cursor-pointer" onclick="window.search()" value="search">
                            </form>
                        </div>
                        <div class="" id="search_result">
                            <a class="" href="">
                                <div class="mb-1 px-2 py-1 border border-gray-200 dark:border-gray-600 dark:text-gray-200 hidden">
                                </div> 
                            </a>
                        </div> 
                    </div>
                    
                    
                    <article>
                        <section class="w-full mb-12">
                            <div class="mb-2 md:pl-5">
                                <p class="text-4xl md:text-4xl break-keep font-semibold text-gray-700 dark:text-gray-200 py-1">boj 5213 과외맨</p>
                                
                            </div>
                            <div class="flex flex-row mb-4 md:pl-5 text-gray-500 dark:text-gray-400">
                                <div class="mr-2"><p class="text-xs italic">Taehyeon Kim</p></div>
                                <div class="mr-2"><p class="text-xs italic">2023-12-03</p></div>
                                <div class="bg-customlight-100 bg-customlight-200 bg-customlight-300 bg-customlight-400 bg-customlight-500 bg-customlight-600 bg-customlight-700 bg-customlight-800 bg-customlight-900 dark:bg-customdark-100 dark:bg-customdark-200 dark:bg-customdark-300 dark:bg-customdark-400 dark:bg-customdark-500 dark:bg-customdark-600 dark:bg-customdark-700 dark:bg-customdark-800 dark:bg-customdark-900" hidden></div>
                                <div class="mr-2 flex flex-row">
                                    
                                    
                                    
                                    
                                    

                                    <div class="px-1 mr-1 bg-customlight-500 dark:bg-customdark-500 align-middle text-xs text-white rounded-md">
                                        boj
                                    </div>
                                    
                                    
                                    
                                    

                                    <div class="px-1 mr-1 bg-customlight-600 dark:bg-customdark-600 align-middle text-xs text-white rounded-md">
                                        ps
                                    </div>
                                    
                                    
                                </div>
                            </div>
                        </section>
                        <div class="clear-none markdown-body mb-10 md:pl-5 leading-6 font-post">
                            <h3 id="문제">문제</h3>
<p><a href="https://www.acmicpc.net/problem/5213">https://www.acmicpc.net/problem/5213</a></p>
<h3 id="코드">코드</h3>
<pre><code class="language-c++">#include &lt;iostream&gt;
#include &lt;algorithm&gt;
#include &lt;climits&gt;
#include &lt;vector&gt;
#include &lt;queue&gt;
#include &lt;map&gt;
#include &lt;unordered_map&gt;
#include &lt;set&gt;
#include &lt;unordered_set&gt;
#include &lt;bitset&gt;
#include &lt;cstring&gt;
using namespace std;
using ll = long long;
int n;
struct tile { 
    int l, r;
    void print(){ cout &lt;&lt; l &lt;&lt; ',' &lt;&lt; r &lt;&lt; '\n'; }
};
int edx[6] = {-1, 0, 1, -1, 0, 1};
int edy[6] = {-1, -1, -1, 0, 1, 0};
int odx[6] = {-1, 0, 1, -1, 0, 1};
int ody[6] = {0, -1, 0, 1, 1, 1};
struct pos {
    int x, y;
    int dist;
    bool safe(){
        if(x%2==0){
            return 0&lt;=x &amp;&amp; x&lt;n &amp;&amp; 0&lt;=y &amp;&amp; y&lt;n;
        }else{
            return 0&lt;=x &amp;&amp; x&lt;n &amp;&amp; 0&lt;=y &amp;&amp; y&lt;n-1;
        }
    }
    pos adj(int i) {
        if(x%2==0){
            return pos {x+edx[i%6], y+edy[i%6]};
        }
        else {
            return pos {x+odx[i%6], y+ody[i%6]};
        }
    }
    void print(){
        cout &lt;&lt; x &lt;&lt; ' ' &lt;&lt; y &lt;&lt; endl;
    }
};
struct compare {
    bool operator()(pos&amp; a, pos&amp; b){
        return a.dist &gt; b.dist;
    }
};
tile board[500][500] = {0,};

void solve(){
    cin &gt;&gt; n;
    for(int i = 0; i&lt;n; i++){
        for(int j = 0; j&lt; n-1 + (i+1)%2; j++){
            tile t;
            cin &gt;&gt; t.l &gt;&gt; t.r;
            board[i][j] = t;
        }
    }
    priority_queue&lt;pos, vector&lt;pos&gt;, compare&gt; pq;
    pq.push({0, 0, 0});
    int done[500][500] = {0,};
    fill(&amp;done[0][0], &amp;done[499][500], INT_MAX);
    pos prev[500][500];
    done[0][0] = 0;
    prev[0][0] = {0, 0, 0};
    while(!pq.empty()){
        pos cur = pq.top();
        pq.pop();
        for(int i = 0; i&lt;3; i++){
            pos next = cur.adj(i); 
            if(next.safe() &amp;&amp; board[next.x][next.y].r == board[cur.x][cur.y].l &amp;&amp; cur.dist + 1 &lt; done[next.x][next.y]){
                done[next.x][next.y] = cur.dist + 1;
                prev[next.x][next.y] = cur;
                next.dist = cur.dist + 1;
                pq.push(next);
            }
        }
        for(int i = 3; i&lt;6; i++){
            pos next = cur.adj(i); 
            if(next.safe() &amp;&amp; board[next.x][next.y].l == board[cur.x][cur.y].r &amp;&amp; cur.dist + 1 &lt; done[next.x][next.y]){
                done[next.x][next.y] = cur.dist + 1;
                prev[next.x][next.y] = cur;
                next.dist = cur.dist + 1;
                pq.push(next);
            }
        }

    }
    for(int i = n-1; i&gt;=0; i--){
        for(int j = n-1; j&gt;=0; j--){
            pos cur = {i, j};
            if(cur.safe() &amp;&amp; done[i][j]!=INT_MAX){
                cout &lt;&lt; done[i][j] + 1 &lt;&lt; '\n';
                vector&lt;int&gt; stack;
                pos target = cur;
                while(prev[target.x][target.y].x != target.x || prev[target.x][target.y].y != target.y){
                    stack.push_back(target.x*n + target.y - target.x/2); 
                    target = prev[target.x][target.y];
                }
                stack.push_back(target.x*n + target.y - target.x/2); 
                while(!stack.empty()){
                    cout &lt;&lt; stack.back() + 1 &lt;&lt; ' ';
                    stack.pop_back();
                }  
                return;
            }
        }
    }
}
int main(){
    ios::sync_with_stdio(0);
    cin.tie(0);
    solve(); 
    return 0;
}

</code></pre>
<h3 id="풀이">풀이</h3>
<p><img src="https://upload.acmicpc.net/04f37a7b-2308-4f1c-837a-ad5197c14870/-/preview/" alt="https://upload.acmicpc.net/04f37a7b-2308-4f1c-837a-ad5197c14870/-/preview/" />
타일이 복잡해 보이지만, 두번째와 네번째의 타일들을 왼쪽으로 모두 민다고 생각을 하고 <code>n x n</code> 사이즈의 board를 구성한다고 생각하면 된다. 이렇게 되면 두번째와 네번째 줄의 가장 오른쪽 타일에 대해서는 방문할 수 없는 곳으로 처리하면 된다.
<code>(0,0)</code>좌표에서 dijkstra를 돌리면 된다. 탐색을 하는 과정에서 홀수번째 줄과 짝수번째 줄의 타일들이 방문하고 판단해야 하는 조건이 달라진다. 이것에 대해서 적절히 처리를 해주면 된다. 나는 위의 코드에서 <code>edx, edy, odx, ody</code> 배열을 사용하여 이를 처리했다. index 0부터 2까지는 인접한 타일의 오른쪽 수와 현재 탐색중인 타일의 왼쪽 수가 같은지 확인을 하고, index 3부터 6까지는 인접한 타일의 왼쪽 수와 현재 탐색중인 타일의 오른쪽 수가 같은지 확인을 한다.
이전 좌표를 기록하며 최종 경로를 표시해주면 된다.</p>
<h3 id="느낀점">느낀점</h3>
<p>기존에 dijkstra 코드를 작성하는 방식이 경로를 나타내는데 적절하지 않아서, 약간 다른 방식으로 코드를 작성하느라 시간이 조금 소요되었다.
아예 <code>done</code> 배열 자체에다가, 최단 거리를 표현해주는 방식을 사용해야겠다.</p>

                        </div>
                    </article>

                </div>
            </div> 
            <footer class="py-4 text-sm text-gray-700 dark:text-gray-200 text-center">
                © 2023. Taehyeon Kim All rights reserved. 
            </footer>
        </div>
    </body>
</html>
